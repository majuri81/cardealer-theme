!function($){"use strict";function cardealer_offcanvas_toggle(){$("body").toggleClass("cardealer-offcanvas-open"),$(".cardealer-offcanvas, .cardealer-offcanvas-overlay").toggleClass(["is-open","is-closed"]),$(document.body).trigger("cardealer_offcanvas_toggled")}function set_layout_height(){0<$("div.vehicle-listing:not(.masonry)").length&&$("div.vehicle-listing:not(.masonry)").each(function(){var highestBox=0,car_items=$(this).find(".car-item");car_items.height(""),car_items.each(function(){jQuery(this).height()>highestBox&&(highestBox=jQuery(this).height())}),car_items.height(highestBox)})}$.fn.exists=function(){return 0<this.length},$(function(){window.ajax_loading=!1,$.hasAjaxRunning=function(){return window.ajax_loading},$(document).ajaxStart(function(){window.ajax_loading=!0}),$(document).ajaxStop(function(){window.ajax_loading=!1})}),jQuery(document).ready(function($){var outer_width,initial_Pos,additional_height,screen_height;set_layout_height(),$(window).resize(function(){$(document.body).trigger("cardealer_set_layout_height_event"),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").trigger("resized.owl.carousel")}),$(document.body).on("cardealer_set_layout_height_event",function(){set_layout_height()}),0<jQuery(".listing-sidebar-sticky").length&&(outer_width=$(".listing-sidebar-sticky").outerWidth(),initial_Pos=$(".car-listing-masonry-main").offset().top,additional_height=0,$(window).scroll(function(){var end_pos,topOfWindow,endOfWindow,top_height;window.matchMedia("(min-width: 768px)").matches&&(0<$("#wpadminbar").length&&(additional_height=$("#wpadminbar").outerHeight()),0<$(".menu-inner").length&&0<$("#menu-1").length&&$("#menu-1").hasClass("desktopTopFixed")&&(additional_height+=$(".menu-inner").outerHeight()),end_pos=initial_Pos+$(".car-listing-masonry-main").outerHeight(),endOfWindow=(topOfWindow=$(window).scrollTop()+additional_height)+$(window).height(),top_height=additional_height,initial_Pos<topOfWindow&&($(".listing-sidebar-sticky").addClass("is_stuck"),$(".listing-sidebar-sticky").css("max-width",outer_width+"px"),$(".listing-sidebar-sticky").css("top",top_height),$(".listing-sidebar-sticky").css("position","fixed")),topOfWindow<initial_Pos||end_pos<endOfWindow)&&($(".listing-sidebar-sticky").removeClass("is_stuck"),$(".listing-sidebar-sticky").css("max-width",""),$(".listing-sidebar-sticky").css("top",""),$(".listing-sidebar-sticky").css("position",""))})),0<jQuery("#cd-scroll-to").length&&(screen_height=jQuery(window).height(),jQuery(document).on("scroll",function(){var query_params,query_params_obj,records,currentRequest,element_position=jQuery("#cd-scroll-to").offset().top,current_scroll=screen_height+$(window).scrollTop();$.hasAjaxRunning()||(null===(records=jQuery(".all-cars-list-arch").attr("data-records"))||0!=records&&-2!=records?($(window).data("paged")||$(window).data("paged",2),$(window).data("records_processed")||$(window).data("records_processed",0),element_position<current_scroll&&(currentRequest=null,query_params=function(){var hash,vars={},hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");vars.cars_orderby=jQuery("#pgs_cars_orderby").val(),vars.cars_order=jQuery("#pgs_cars_order").data("current_order");for(var i=0;i<hashes.length;i++)hash=hashes[i].split("="),vars[hash[0]]=hash[1];return JSON.stringify(vars)}(),0<jQuery(".cars-total-vehicles ul.stripe-item li").length&&(query_params_obj=JSON.parse(query_params),jQuery(".cars-total-vehicles ul.stripe-item li").each(function(){var obj;jQuery(this).attr("data-type");void 0===query_params_obj.filterAttr&&((obj={})[jQuery(this).attr("data-type")]=jQuery(this).find("span").attr("data-key"),jQuery.extend(query_params_obj,obj))}),query_params=JSON.stringify(query_params_obj)),vehicle_inventory_js_object.is_vehicle_cat&&((query_params_obj=JSON.parse(query_params)).is_vehicle_cat="yes",query_params_obj.vehicle_cat=vehicle_inventory_js_object.vehicle_cat,query_params=JSON.stringify(query_params_obj)),$(window).data("paged"),records={action:"cardealer_load_more_vehicles",filter_vars:query_params,paged:$(window).data("paged"),records_processed:$(window).data("records_processed"),ajax_nonce:vehicle_inventory_js_object.load_more_vehicles_nonce},currentRequest=jQuery.ajax({url:vehicle_inventory_js_object.ajaxurl,type:"post",dataType:"json",data:records,beforeSend:function(){jQuery(".vehicle-listing.vehicle-listing-main").after('<div class="col-md-12 text-center cd-inv-loader"><span class="cd-loader"></span><div>'),null!=currentRequest&&currentRequest.abort(),jQuery(".filter-loader").html('<span class="filter-loader"><i class="cd-loader"></i></span>'),0<jQuery(".cars-top-filters-box").length&&jQuery(".cars-top-filters-box").append('<span class="filter-loader"><i class="cd-loader"></i></span>'),jQuery(".select-sort-filters").prop("disabled",!0),0<jQuery("#submit_all_filters").length&&jQuery("#submit_all_filters").prop("disabled",!0)},success:function(response){jQuery(".cd-inv-loader").remove(),2==response.status?(0==jQuery(".load-status").length&&jQuery(".car-listing-masonry-main .all-cars-list-arch").after(response.data_html),jQuery(".load-status").fadeIn(2e3),jQuery(".load-status").fadeOut(2e3)):(jQuery(".car-listing-masonry-main .all-cars-list-arch").append(response.data_html),setTimeout(function(){$(document.body).trigger("cardealer_load_masonry_event")},1e3)),jQuery(".select-sort-filters").prop("disabled",!1),0<jQuery("#submit_all_filters").length&&jQuery("#submit_all_filters").prop("disabled",!1),0<jQuery(".cars-top-filters-box .filter-loader").length&&jQuery(".cars-top-filters-box .filter-loader").remove(),jQuery(".filter-loader").html(""),jQuery(".car-listing-masonry-main .all-cars-list-arch").attr("data-paged",response.paged),$(window).data("paged",response.paged),$(window).data("records_processed",response.records_processed);var cars_pp=$(window).data("records_processed"),filterURL="?cars_pp="+cars_pp,pgs_min_price=(jQuery.each(JSON.parse(query_params),function(index,value){"cars_pp"!=index&&(filterURL+="&"+index+"="+value)}),jQuery("#pgs_min_price").val()),pgs_max_price=jQuery("#pgs_max_price").val();void 0!==pgs_max_price&&!1!==pgs_max_price&&void 0!==pgs_min_price&&!1!==pgs_min_price&&(filterURL=filterURL+"&max_price="+pgs_max_price+"&min_price="+pgs_min_price),-1==jQuery(".all-cars-list-arch").attr("data-records")?jQuery(".all-cars-list-arch").attr("data-records",-2):jQuery(".all-cars-list-arch").attr("data-records")>=response.records_processed?jQuery(".all-cars-list-arch").attr("data-records",-1):jQuery(".all-cars-list-arch").attr("data-records",cars_pp),0==$("#pgs_cars_pp option[value='"+cars_pp+"']").length&&jQuery("#pgs_cars_pp").append("<option value="+cars_pp+">"+cars_pp+"</option>"),$("#pgs_cars_pp option").filter(function(){return $.trim($(this).text())==cars_pp}).attr("selected",!0),jQuery("select#pgs_cars_pp").select2(),window.history.pushState(null,null,vehicle_inventory_js_object.cars_form_url+filterURL),$(document.body).trigger("cd_data_tooltip_event")},error:function(msg){alert(vehicle_inventory_js_object.error_msg)}}))):($(window).data("records_processed",0),$(window).data("paged",2),jQuery(".all-cars-list-arch").attr("data-paged",2)))})),jQuery("section.lazyload .cars_filters h6 a").on("click",function(){"false"==jQuery(this).attr("aria-expanded")?jQuery(this).find(".fa-plus").removeClass("fa-plus").addClass("fa-minus"):jQuery(this).find(".fa-minus").removeClass("fa-minus").addClass("fa-plus")}),$(document).on("click",".off-canvas-toggle a, .cardealer-offcanvas .cardealer-offcanvas-close-btn",function(e){e.preventDefault(),cardealer_offcanvas_toggle()}),$(document).on("mousedown",".cardealer-offcanvas-overlay",function(){$(document.body).trigger("cardealer_offcanvas_close")}),$(document).on("cardealer_offcanvas_toggle",function(){cardealer_offcanvas_toggle()}),$(document).on("cardealer_offcanvas_close",function(){$("body").removeClass("cardealer-offcanvas-open"),$(".cardealer-offcanvas, .cardealer-offcanvas-overlay").removeClass("is-open").addClass("is-closed"),$(document.body).trigger("cardealer_offcanvas_closed")}),$(".view-list").on("click",function(){$(".view-grid").removeClass("sel-active"),$(".view-list").addClass("sel-active"),$("div.cars-loop").fadeOut(300,function(){$(this).addClass("cars-list").fadeIn(300)}),cookies.set("cars_grid","no")}),$(".view-grid").on("click",function(){$(".view-list").removeClass("sel-active"),$(".view-grid").addClass("sel-active"),$("div.cars-loop").fadeOut(300,function(){$(this).removeClass("cars-list").fadeIn(300)}),cookies.set("cars_grid","yes")}),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").exists()&&($(".vehicle-listing.vehicle-listing-featured.owl-carousel").on("refreshed.owl.carousel",function(event){$(document.body).trigger("cardealer_set_layout_height_event"),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").addClass("owl-loaded")}),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").on("initialized.owl.carousel",function(event){$(document.body).trigger("cardealer_set_layout_height_event")}),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").on("resized.owl.carousel",function(event){$(document.body).trigger("cardealer_set_layout_height_event")}))})}(jQuery);