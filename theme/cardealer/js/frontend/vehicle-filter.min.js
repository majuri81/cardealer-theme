!function($){"use strict";function set_result_filters(response){var all_filters={};jQuery(".select-sort-filters").each(function(){var tid=jQuery(this).attr("data-id"),sel_val=jQuery(this).val();""!=sel_val&&(tid,0)}),"all_filters"in response&&"object"==typeof response.all_filters&&(all_filters=response.all_filters),$(".sort-filters").exists()&&$(".sort-filters").each(function(i,el){$(el).find("select.cd-select-box").each(function(i,el){var filter_field,filter_id,filter_options,filter_value,selected_val;$(this).hasClass("disabled")||(filter_id=(filter_field=$(this)).attr("data-id"),filter_options='<option value="">'+filter_field.attr("data-tax")+"</option>",filter_value=filter_field.val(),selected_val="",filter_id in all_filters&&$.each(all_filters[filter_id],function(index,items){$.each(items,function(item_k,item_v){filter_options+='<option value="'+item_k+'" '+(selected_val=item_k==filter_value?'selected="selected"':selected_val)+">"+item_v+"</option>"})}),"car_mileage"!==filter_id&&filter_field.html(filter_options))})})}function do_ajax_call(form_data){var make_widgets={},form_data_new=form_data;0<$(".widget.widget-vehicle-make-logos").length&&$(".widget.widget-vehicle-make-logos").each(function(index){make_widgets[$(this).attr("id")]=$(this).find(".cardealer-make-logos-wrap").data("widget_params")}),(form_data_new=("action=cardealer_cars_filter_query"+form_data_new+"&query_nonce="+vehicle_filter_js_object.cardealer_cars_filter_query_nonce).toString().replace(/(^\?)/,"").split("&").map(function(n){return this[(n=n.split("="))[0]]=n[1],this}.bind({}))[0]).make_widgets=make_widgets,"undefined"!=typeof vehicle_filter_js_object&&"yes"==vehicle_filter_js_object.cars_filter_with&&jQuery.ajax({url:vehicle_filter_js_object.ajaxurl,type:"post",dataType:"json",data:form_data_new,beforeSend:function(){jQuery(".filter-loader").html('<span class="filter-loader"><i class="cd-loader"></i></span>'),jQuery(".pagination-loader").html('<span class="pagination-loader"><i class="cd-loader"></i></span>'),jQuery(".cars-top-filters-box").length&&jQuery(".cars-top-filters-box").append('<span class="filter-loader"><i class="cd-loader"></i></span>'),jQuery(".select-sort-filters").prop("disabled",!0),jQuery("#submit_all_filters").prop("disabled",!0),$(".vehicle-listing.vehicle-listing-featured").hasClass("owl-carousel")&&$(".vehicle-listing.vehicle-listing-featured.owl-carousel").removeClass("owl-loaded")},success:function(response){var cars_pp="";0<jQuery("section.lazyload").length&&(0<jQuery("#pgs_cars_pp").length&&(cars_pp=response.tot_result,jQuery("#pgs_cars_pp").val(cars_pp)),void 0!==response.tot_result&&response.tot_result<1?jQuery(".all-cars-list-arch").attr("data-records",0):void 0!==response.found_posts&&void 0!==response.tot_result&&response.tot_result>=response.found_posts?jQuery(".all-cars-list-arch").attr("data-records",-2):jQuery(".all-cars-list-arch").removeAttr("data-records")),jQuery(".vehicle-listing.vehicle-listing-main").html(response.data_html),0<response.featured_cars_count?$(".vehicle-listing.vehicle-listing-featured").hasClass("owl-carousel")?($(".featured-vehicles-listing-wrapper").slideDown("fast"),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").trigger("replace.owl.carousel",response.featured_cars).trigger("refresh.owl.carousel"),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").on("refreshed.owl.carousel",function(event){$(".vehicle-listing.vehicle-listing-featured.owl-carousel").addClass("owl-loaded")})):($(".vehicle-listing.vehicle-listing-featured").html(response.featured_cars),$(".featured-vehicles-listing-wrapper").slideDown("fast")):$(".featured-vehicles-listing-wrapper").hide(),jQuery(".pagination-nav").html(response.pagination_html),jQuery(".cars-order").html(response.order_html),set_result_filters(response),jQuery(".select-sort-filters:not(.disabled)").prop("disabled",!1),jQuery("#submit_all_filters").prop("disabled",!1),jQuery(".filter-loader").html(""),jQuery(".cars-top-filters-box .filter-loader").length&&jQuery(".cars-top-filters-box .filter-loader").remove(),jQuery(".pagination-loader").html(""),jQuery(".number_of_listings").html(response.tot_result_filter),$(window).data("records_processed",response.tot_result),$(document.body).trigger("cardealer_set_layout_height_event"),0<jQuery(".masonry-main .all-cars-list-arch.masonry").length&&setTimeout(function(){$(document.body).trigger("cardealer_load_masonry_event")},1e3),jQuery("select").select2(),$(document.body).trigger("cd_data_tooltip_event");var url_arr=window.location.href.split("?")[0].split("/page/"),form_data_params=new URLSearchParams(form_data),url_arr=new URL(url_arr),cars_pp=(cars_pp&&form_data_params.set("cars_pp",cars_pp),vehicle_filter_js_object.is_vehicle_cat&&form_data_params.delete("vehicle_cat"),new URLSearchParams(url_arr.search)),cars_pp=new URLSearchParams({...Object.fromEntries(cars_pp),...Object.fromEntries(form_data_params)});url_arr.search=cars_pp.toString(),window.history.pushState(null,null,url_arr),jQuery(".cars-top-filters-box").length&&jQuery("html, body").animate({scrollTop:jQuery(".cars-top-filters-box").offset().top},200),$(document.body).trigger("cardealer_filter_ajax_done",[response])},error:function(msg){alert(vehicle_filter_js_object.error_msg),jQuery(".filter-loader").html(""),jQuery(".pagination-loader").html("")}})}function cardealer_filter_generate_filter_stripe(){var serch_filter="",selected_filter=[];$("select.select-sort-filters").each(function(){var is_disabled=jQuery(this).attr("disabled"),tid=jQuery(this).attr("data-id"),sel_val=jQuery(this).val(),sel_txt=jQuery(this).attr("data-tax"),sel_term=jQuery(this).find("option:selected").html();""!=sel_val&&-1==jQuery.inArray(tid,selected_filter)&&(selected_filter.push(tid),sel_term=$("<textarea />").html(sel_term).text(),sel_term=$("<textarea />").html(sel_term).text(),serch_filter+=void 0!==is_disabled&&!1!==is_disabled?'<li class="stripe-single-item disabled stripe-item-'+tid+'" data-type="'+tid+'" > '+sel_txt+' :  <span data-key="'+sel_val+'">'+sel_term+"</span></li>":'<li class="stripe-single-item stripe-item-'+tid+'" data-type="'+tid+'" ><a href="javascript:void(0)"><i class="far fa-times-circle"></i> '+sel_txt+' :  <span data-key="'+sel_val+'">'+sel_term+"</span></a></li>")}),$(".stripe-item").html(serch_filter)}function get_form_field($this,args){var cn_paged,pgs_cars_search,get_id=jQuery($this).attr("id"),lay_style="view-grid",form_data="",form_data_ajax="",serch_filter="",selected_filter=[],pgs_widget_vehicle_category=jQuery(".pgs_widget_vehicle_category").val(),pgs_widget_car_make=jQuery(".pgs_widget_car_make").val(),pgs_widget_car_condition=jQuery(".pgs_widget_car_condition").val(),pgs_widget_car_col=jQuery(".pgs_widget_car_col").val(),pgs_widget_car_make=(pgs_widget_car_make&&(selected_filter.push("car_make"),form_data+='<input type="text" name="car_make" value="'+pgs_widget_car_make+'" />',form_data_ajax+="&car_make="+pgs_widget_car_make),pgs_widget_car_condition&&(selected_filter.push("car_condition"),form_data+='<input type="text" name="car_condition" value="'+pgs_widget_car_condition+'" />',form_data_ajax+="&car_condition="+pgs_widget_car_condition),pgs_widget_vehicle_category&&(form_data+='<input type="text" name="vehicle_cat" value="'+pgs_widget_vehicle_category+'" />',form_data_ajax+="&vehicle_cat="+pgs_widget_vehicle_category),pgs_widget_car_col&&(form_data+='<input type="text" name="car_col" value="'+pgs_widget_car_col+'" />',form_data_ajax+="&car_col="+pgs_widget_car_col),jQuery(".select-sort-filters").each(function(){var tid=jQuery(this).attr("data-id"),sel_val=jQuery(this).val(),sel_txt=jQuery(this).attr("data-tax"),sel_term=jQuery(this).find("option:selected").html();""!=sel_val&&-1==jQuery.inArray(tid,selected_filter)&&(selected_filter.push(tid),sel_term=$("<textarea />").html(sel_term).text(),sel_term=$("<textarea />").html(sel_term).text(),form_data+='<input type="text" name="'+tid+'" value="'+sel_val+'" />',form_data_ajax+="&"+tid+"="+sel_val,serch_filter+='<li class="stripe-single-item stripe-item-'+tid+'" data-type="'+tid+'" ><a href="javascript:void(0)"><i class="far fa-times-circle"></i> '+sel_txt+' :  <span data-key="'+sel_val+'">'+sel_term+"</span></a></li>")}),jQuery(".stripe-item").html(serch_filter),jQuery("#pgs_cars_pp").val()),pgs_widget_vehicle_category=(pgs_widget_car_make?(form_data+='<input type="text" name="cars_pp" value="'+pgs_widget_car_make+'" />',form_data_ajax+="&cars_pp="+pgs_widget_car_make):(pgs_widget_car_condition=jQuery(".pgs_widget_cars_pp").val())&&(form_data+='<input type="text" name="cars_pp" value="'+pgs_widget_car_condition+'" />',form_data_ajax+="&cars_pp="+pgs_widget_car_condition),jQuery("#pgs_cars_orderby").val()),pgs_widget_car_make=(pgs_widget_vehicle_category?(form_data+='<input type="text" name="cars_orderby" value="'+pgs_widget_vehicle_category+'" />',form_data_ajax+="&cars_orderby="+pgs_widget_vehicle_category):(pgs_widget_car_col=jQuery(".pgs_widget_cars_orderby").val())&&(form_data+='<input type="text" name="cars_orderby" value="'+pgs_widget_car_col+'" />',form_data_ajax+="&cars_orderby="+pgs_widget_car_col),jQuery(".pgs_widget_car_no_sold").val()),args=(pgs_widget_car_make&&(form_data+='<input type="text" name="car_no_sold" value="'+pgs_widget_car_make+'" />',form_data_ajax+="&car_no_sold="+pgs_widget_car_make),null!=args&&("price_range_values"in args&&(pgs_widget_car_condition=args.price_range_values.pgs_min_price,pgs_widget_vehicle_category=args.price_range_values.pgs_max_price,pgs_widget_car_col=args.price_range_values.default_min_val,pgs_widget_car_make=args.price_range_values.default_max_val,pgs_widget_car_col==pgs_widget_car_condition&&pgs_widget_vehicle_category==pgs_widget_car_make||(form_data=form_data+'<input type="text" name="min_price" value="'+pgs_widget_car_condition+'" /><input type="text" name="max_price" value="'+pgs_widget_vehicle_category+'" />',form_data_ajax=form_data_ajax+"&min_price="+pgs_widget_car_condition+"&max_price="+pgs_widget_vehicle_category)),vehicle_filter_js_object.is_year_range_active)&&"year_range_values"in args&&(pgs_widget_car_col=args.year_range_values.pgs_year_range_min,pgs_widget_car_make=args.year_range_values.pgs_year_range_max,pgs_widget_car_condition=args.year_range_values.default_year_min_val,pgs_widget_vehicle_category=args.year_range_values.default_year_max_val,pgs_widget_car_condition==pgs_widget_car_col&&pgs_widget_car_make==pgs_widget_vehicle_category||(form_data=form_data+'<input type="text" name="min_year" value="'+pgs_widget_car_col+'" /><input type="text" name="max_year" value="'+pgs_widget_car_make+'" />',form_data_ajax=form_data_ajax+"&min_year="+pgs_widget_car_col+"&max_year="+pgs_widget_car_make)),""),pgs_widget_car_col=("pgs_cars_order"==get_id?(args=jQuery($this).attr("data-order"))&&""!=args&&"undefined"!=args&&(form_data+='<input type="text" name="cars_order" value="'+args+'" />',form_data_ajax+="&cars_order="+args):(args=jQuery("#pgs_cars_order").attr("data-current_order"))&&""!=args&&"undefined"!=args&&(form_data+='<input type="text" name="cars_order" value="'+args+'" />',form_data_ajax+="&cars_order="+args),args||(pgs_widget_car_condition=jQuery(".pgs_widget_cars_order").val())&&(form_data+='<input type="text" name="cars_order" value="'+pgs_widget_car_condition+'" />',form_data_ajax+="&cars_order="+pgs_widget_car_condition),jQuery($this).hasClass("catlog-layout")?(lay_style=jQuery($this).attr("data-id"),cookies.set("lay_style",lay_style),form_data+='<input type="text" name="lay_style"  value="'+lay_style+'"/>',cn_paged=null,jQuery(".pagination-nav ul li span").each(function(){var cuernt_page;jQuery(this).hasClass("current")&&null!=(cuernt_page=jQuery(this).text())&&(cn_paged=parseInt(cuernt_page))}),void 0===vehicle_filter_js_object.cdfs_dashboard&&(form_data+='<input type="text" name="paged" value="'+cn_paged+'" />')):(""!=vehicle_filter_js_object.lay_style&&(lay_style=vehicle_filter_js_object.lay_style),pgs_widget_vehicle_category=cookies.get("lay_style"),form_data+='<input type="text" name="lay_style"  value="'+(lay_style=null!=pgs_widget_vehicle_category?pgs_widget_vehicle_category:lay_style)+'"/>',form_data_ajax+="&lay_style="+lay_style),1<jQuery(".pgs_cars_search").length?jQuery(".pgs_cars_search").each(function(i,el){$(this).val()&&(pgs_cars_search=$(this).val())}):pgs_cars_search=jQuery(".pgs_cars_search").val(),jQuery($this).hasClass("pgs_cars_search_btn")&&(pgs_cars_search=jQuery($this).parent(".cd-search-wrap").find(".pgs_cars_search").val()),1<jQuery(".pgs_cars_search").length&&jQuery(".pgs_cars_search").val(pgs_cars_search),pgs_cars_search&&""!=pgs_cars_search&&"undefined"!=pgs_cars_search&&(form_data=form_data+'<input type="search" name="s" value="'+pgs_cars_search+'" /><input type="hidden" name="post_type" value="cars" />',form_data_ajax=form_data_ajax+"&s="+pgs_cars_search+"&post_type=cars"),vehicle_filter_js_object.is_vehicle_cat&&("undefined"!=typeof vehicle_filter_js_object&&"no"==vehicle_filter_js_object.cars_filter_with&&(form_data+='<input type="hidden" name="is_vehicle_cat" value="yes" />'),form_data_ajax=(form_data_ajax+="&is_vehicle_cat=yes")+"&vehicle_cat="+vehicle_filter_js_object.vehicle_cat),jQuery(".vehicle-location-input").val());if(pgs_widget_car_col&&(form_data_ajax+="&vehicle_location="+pgs_widget_car_col,form_data+='<input type="hidden" name="vehicle_location" value="'+pgs_widget_car_col+'" />'),"undefined"!=typeof vehicle_filter_js_object&&"yes"==vehicle_filter_js_object.cars_filter_with){var url_arr=window.location.href.split("?")[0].split("/page/");if(!jQuery($this).hasClass("catlog-layout"))return form_data_ajax}else{var cars_form_url_patams=function(url){let result={};-1!==url.indexOf("?")&&url.substring(url.indexOf("?")+1).split("&").forEach(function(queryParam){queryParam=queryParam.split("=");result[queryParam[0]]=decodeURIComponent(queryParam[1])});return result}((url_arr=window.location.href.split("?")[0].split("/page/"))[0]);0<Object.keys(cars_form_url_patams).length&&Object.keys(cars_form_url_patams).forEach(function(key){form_data='<input type="text" name="'+key+'" value="'+cars_form_url_patams[key]+'" />'+form_data});url_arr=window.location.href.split("?")[0].split("/page/")}jQuery("<form>",{id:"getCarsData",html:form_data,action:url_arr[0]}).appendTo(document.body).submit()}function price_slider_display_values(min,max,dealer_slider_amt_el){var currency_symbol=vehicle_filter_js_object.currency_symbol;switch(min=min&&cardealer_addCommas(min),max=max&&cardealer_addCommas(max),vehicle_filter_js_object.currency_pos){case"left":$(dealer_slider_amt_el).html('<bdi><span class="currency">'+currency_symbol+"</span>"+min+'</bdi> - <bdi><span class="currency">'+currency_symbol+"</span>"+max+"</bdi>");break;case"left-with-space":$(dealer_slider_amt_el).html('<bdi><span class="currency">'+currency_symbol+"</span>&nbsp;"+min+'</bdi> - <bdi><span class="currency">'+currency_symbol+"</span>&nbsp;"+max+"</bdi>");break;case"right-with-space":$(dealer_slider_amt_el).html("<bdi>"+min+'&nbsp;<span class="currency">'+currency_symbol+"</span></bdi> - <bdi>"+max+'&nbsp;<span class="currency">'+currency_symbol+"</span></bdi>");break;default:$(dealer_slider_amt_el).html("<bdi>"+min+'<span class="currency">'+currency_symbol+"</span></bdi> - <bdi>"+max+'<span class="currency">'+currency_symbol+"</span></bdi>")}jQuery(document.body).trigger("price_slider_updated",[min,max])}function year_range_display_values(min,max,year_slider_years_el){$(year_slider_years_el).val(min+" - "+max),jQuery(document.body).trigger("year_range_slider_updated",[min,max])}function dealer_year_range_filter(){"undefined"!=typeof vehicle_filter_js_object&&$(".year-range-slider-wrapper").each(function(index,el){var year_slider_wrap=this,year_slider_location=$(year_slider_wrap).data("range-location"),year_slider_el=$(year_slider_wrap).find(".slider-year-range"),year_slider_years_el=$(year_slider_wrap).find(".dealer-slider-year-range"),year_slider_min_el=$(year_slider_wrap).find(".pgs-year-range-min"),year_slider_max_el=$(year_slider_wrap).find(".pgs-year-range-max"),pgs_year_range_min=$(year_slider_min_el).data("yearmin"),pgs_year_range_max=$(year_slider_max_el).data("yearmax"),pgs_current_min_year=parseInt(pgs_year_range_min,10),pgs_current_max_year=parseInt(pgs_year_range_max,10);vehicle_filter_js_object.min_year&&(pgs_current_min_year=parseFloat(vehicle_filter_js_object.min_year,10)),vehicle_filter_js_object.max_year&&(pgs_current_max_year=parseFloat(vehicle_filter_js_object.max_year,10)),jQuery.isFunction(jQuery.fn.slider)&&jQuery(year_slider_el).slider({range:!0,min:pgs_year_range_min,max:pgs_year_range_max,values:[pgs_current_min_year,pgs_current_max_year],create:function(){$(year_slider_min_el).val(pgs_current_min_year),$(year_slider_max_el).val(pgs_current_max_year),year_range_display_values(pgs_current_min_year,pgs_current_max_year,year_slider_years_el),jQuery(document.body).trigger("pgs_year_range_slider_create",[pgs_current_min_year,pgs_current_max_year])},slide:function(event,ui){var min=ui.values[0],max=ui.values[1];$(year_slider_min_el).val(min),$(year_slider_max_el).val(max),year_range_display_values(min,max,year_slider_years_el),$(".year-range-slider-wrapper").not(year_slider_wrap).each(function(index){$($(this).find(".pgs-year-range-min")).val(min),$($(this).find(".pgs-year-range-max")).val(max),year_range_display_values(min,max,$(this).find(".dealer-slider-year-range")),jQuery($(this).find(".slider-year-range")).slider({range:!0,min:pgs_year_range_min,max:pgs_year_range_max,values:[min,max]})}),jQuery(document.body).trigger("pgs_year_range_slider_slide",[ui.values[0],ui.values[1]])},change:function(event,ui){jQuery(document.body).trigger("pgs_year_range_slider_change",[ui.values[0],ui.values[1]])},stop:function(event,ui){var is_cfb,args,price_slider_min_el,price_slider_wrap;"widgets"!==year_slider_location&&(is_cfb=jQuery(this).attr("data-cfb"),(args=[]).year_range_values=[],args.year_range_values.pgs_year_range_min=$(year_slider_min_el).val(),args.year_range_values.pgs_year_range_max=$(year_slider_max_el).val(),args.year_range_values.default_year_min_val=pgs_year_range_min,args.year_range_values.default_year_max_val=pgs_year_range_max,price_slider_wrap=$(".price_slider_wrapper").first(),price_slider_min_el=$(price_slider_wrap).find(".pgs-price-slider-min"),price_slider_wrap=$(price_slider_wrap).find(".pgs-price-slider-max"),args.price_range_values=[],args.price_range_values.pgs_min_price=$(price_slider_min_el).val(),args.price_range_values.pgs_max_price=$(price_slider_wrap).val(),args.price_range_values.default_min_val=$(price_slider_min_el).attr("data-min"),args.price_range_values.default_max_val=$(price_slider_wrap).attr("data-max"),"yes"===is_cfb?$(document.body).trigger("do_cfb_ajax_call_event",this,args):do_ajax_call(get_form_field(this,args)))}})})}function dealer_price_filter(){"undefined"!=typeof vehicle_filter_js_object&&$(".price_slider_wrapper").each(function(index,el){var price_slider_wrap=this,price_slider_el=$(price_slider_wrap).find(".slider-range"),dealer_slider_amt_el=$(price_slider_wrap).find(".dealer-slider-amount"),price_slider_min_el=$(price_slider_wrap).find(".pgs-price-slider-min"),price_slider_max_el=$(price_slider_wrap).find(".pgs-price-slider-max"),pgs_min_price=$(price_slider_min_el).data("min"),pgs_max_price=$(price_slider_max_el).data("max"),pgs_current_min_price=parseInt(pgs_min_price,10),pgs_current_max_price=parseInt(pgs_max_price,10),pgs_price_range_step=jQuery(pgs_max_price).data("step"),pgs_price_range_step=pgs_price_range_step||100;vehicle_filter_js_object.min_price&&(pgs_current_min_price=parseInt(vehicle_filter_js_object.min_price,10)),vehicle_filter_js_object.max_price&&(pgs_current_max_price=parseInt(vehicle_filter_js_object.max_price,10)),jQuery.isFunction(jQuery.fn.slider)&&jQuery(price_slider_el).slider({range:!0,min:pgs_min_price,max:pgs_max_price,values:[pgs_current_min_price,pgs_current_max_price],step:pgs_price_range_step,create:function(){$(price_slider_min_el).val(pgs_current_min_price),$(price_slider_max_el).val(pgs_current_max_price),price_slider_display_values(pgs_current_min_price,pgs_current_max_price,dealer_slider_amt_el),$(document.body).trigger("pgs_price_slider_create",[pgs_current_min_price,pgs_current_max_price])},slide:function(event,ui){var min=ui.values[0],max=ui.values[1];$(price_slider_min_el).val(min),$(price_slider_max_el).val(max),price_slider_display_values(min,max,dealer_slider_amt_el),$(document.body).trigger("pgs_price_slider_slide",[ui.values[0],ui.values[1]]),$(".price_slider_wrapper").not(price_slider_wrap).each(function(index){$($(this).find(".pgs-price-slider-min")).val(min),$($(this).find(".pgs-price-slider-max")).val(max),price_slider_display_values(min,max,$(this).find(".dealer-slider-amount")),jQuery($(this).find(".range-slide-slider")).slider({range:!0,min:pgs_min_price,max:pgs_max_price,values:[min,max]})})},change:function(event,ui){$(document.body).trigger("pgs_price_slider_change",[ui.values[0],ui.values[1]])}})})}function cardealer_addCommas(nStr){for(var decimals=parseInt(vehicle_filter_js_object.decimal_places),decPoint=vehicle_filter_js_object.decimal_separator_symbol,thousandsSep=vehicle_filter_js_object.thousand_seperator_symbol,roundedNumber=(decimals=decimals||0,nStr=parseFloat(nStr),decPoint&&thousandsSep||(decPoint=".",thousandsSep=","),Math.round(Math.abs(nStr)*("1e"+decimals))+""),numbersString=decimals?roundedNumber.slice(0,-1*decimals):roundedNumber,roundedNumber=decimals?roundedNumber.slice(-1*decimals):"",formattedNumber="";3<numbersString.length;)formattedNumber=thousandsSep+numbersString.slice(-3)+formattedNumber,numbersString=numbersString.slice(0,-3);return(nStr<0?"-":"")+numbersString+formattedNumber+(roundedNumber?decPoint+roundedNumber:"")}function get_sold_filter_fields($this){var form_data="";return(form_data+='<input type="hidden" name="cars_order"  value="'+($($this).hasClass("cars-order-sold")?$($this).attr("data-order"):$("#pgs_cars_order_sold").attr("data-current_order"))+'"/>')+('<input type="hidden" name="lay_style"  value="'+($($this).hasClass("catlog-layout-sold")?$($this).attr("data-id"):"act"==jQuery(".view-grid-sold").attr("data-sts")?"view-grid":"view-list")+'"/>')}function cd_get_slider_filter_var(){var price_slider_wrap,price_slider_min_el,args=[];return 0<$(".price_slider_wrapper").length&&(price_slider_wrap=$(".price_slider_wrapper").first(),price_slider_min_el=$(price_slider_wrap).find(".pgs-price-slider-min"),price_slider_wrap=$(price_slider_wrap).find(".pgs-price-slider-max"),args.price_range_values=[],args.price_range_values.pgs_min_price=$(price_slider_min_el).val(),args.price_range_values.pgs_max_price=$(price_slider_wrap).val(),args.price_range_values.default_min_val=$(price_slider_min_el).attr("data-min"),args.price_range_values.default_max_val=$(price_slider_wrap).attr("data-max")),0<$(".year-range-slider-wrapper").length&&(price_slider_min_el=$(".year-range-slider-wrapper").first(),price_slider_wrap=$(price_slider_min_el).find(".pgs-year-range-min"),price_slider_min_el=$(price_slider_min_el).find(".pgs-year-range-max"),args.year_range_values=[],args.year_range_values.pgs_year_range_min=$(price_slider_wrap).val(),args.year_range_values.pgs_year_range_max=$(price_slider_min_el).val(),args.year_range_values.default_year_min_val=$(price_slider_wrap).attr("data-yearmin"),args.year_range_values.default_year_max_val=$(price_slider_min_el).attr("data-yearmax")),args}$.fn.exists=function(){return 0<this.length},jQuery(document).ready(function($){var form_data="";$(document).on("change",".select-sort-filters",function(){var current_clicked_attr=$(this).attr("data-id"),current_clicked_value=$(this).val(),form_data="";$("select.sort_"+$(this).attr("data-id")).val($(this).val()),jQuery("select").select2(),form_data+=get_form_field(this,cd_get_slider_filter_var()),do_ajax_call(form_data=""!=current_clicked_value?form_data+"&current_value="+current_clicked_value+"&current_attr="+current_clicked_attr:form_data)}),$(document.body).on("cardealer_filter_ajax_done",function(e,response){cardealer_filter_generate_filter_stripe(),response.hasOwnProperty("vehicle_make")&&$.trim(response.vehicle_make)&&jQuery.each(response.vehicle_make,function(key,value){$("#"+key+" .cardealer-make-logos-wrap").html(value)})}),$("#pgs_cars_pp_sold,#pgs_cars_orderby_sold").on("change",function(){var form_data=get_sold_filter_fields(this);$(form_data).appendTo(".sold-filter-frm"),$(".sold-filter-frm").submit()}),$("#pgs_cars_order_sold,#pgs_price_filter_btn-sold,.catlog-layout-sold").on("click",function(e){e.preventDefault();e=get_sold_filter_fields(this);$(e).appendTo(".sold-filter-frm"),$(".sold-filter-frm").submit()}),dealer_price_filter(),dealer_year_range_filter(),"undefined"!=typeof vehicle_filter_js_object&&"yes"==vehicle_filter_js_object.cars_filter_with?($(document).on("click","#submit_all_filters",function(){do_ajax_call(form_data=get_form_field(this))}),$(document).on("click",".pgs-price-filter-btn, .year-range-filter-btn, .pgs_cars_search_btn, #pgs_cars_order, .catlog-layout",function(){form_data=get_form_field(this,cd_get_slider_filter_var()),$(this).hasClass("catlog-layout")||do_ajax_call(form_data)}),$("#pgs_cars_pp, #pgs_cars_orderby").on("change",function(){do_ajax_call(form_data=get_form_field(this,cd_get_slider_filter_var()))}),$(document).on("click",".cars-pagination-nav ul li a",function(){var pgntn=$(this).parents(".cars-pagination-nav"),page_link=$(this).text(),prev=$(this).hasClass("prev"),next=$(this).hasClass("next");return form_data=get_form_field(this,cd_get_slider_filter_var()),prev&&pgntn.find("ul li span").each(function(){var cuernt_page;$(this).hasClass("current")&&(cuernt_page=$(this).text(),page_link=parseInt(cuernt_page)-1)}),next&&pgntn.find("ul li span").each(function(){var cuernt_page;$(this).hasClass("current")&&(cuernt_page=$(this).text(),page_link=parseInt(cuernt_page)+1)}),jQuery.ajax({url:vehicle_filter_js_object.ajaxurl,type:"post",dataType:"json",data:"action=cardealer_cars_filter_query&paged="+page_link+form_data+"&query_nonce="+vehicle_filter_js_object.cardealer_cars_filter_query_nonce,beforeSend:function(){jQuery(".filter-loader").html('<span class="filter-loader"><i class="cd-loader"></i></span>'),jQuery(".pagination-loader").html('<span class="pagination-loader"><i class="cd-loader"></i></span>'),jQuery(".cars-top-filters-box").length&&jQuery(".cars-top-filters-box").append('<span class="filter-loader"><i class="cd-loader"></i></span>'),jQuery(".select-sort-filters").prop("disabled",!0),jQuery("#submit_all_filters").prop("disabled",!0),$(".vehicle-listing.vehicle-listing-featured").hasClass("owl-carousel")&&$(".vehicle-listing.vehicle-listing-featured.owl-carousel").removeClass("owl-loaded")},success:function(response){set_result_filters(response),jQuery(".filter-loader").html(""),jQuery(".pagination-loader").html(""),jQuery(".cars-top-filters-box .filter-loader").length&&jQuery(".cars-top-filters-box .filter-loader").remove(),jQuery(".vehicle-listing.vehicle-listing-main").html(response.data_html),0<response.featured_cars_count?$(".vehicle-listing.vehicle-listing-featured").hasClass("owl-carousel")?($(".featured-vehicles-listing-wrapper").slideDown("fast"),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").trigger("replace.owl.carousel",response.featured_cars).trigger("refresh.owl.carousel"),$(".vehicle-listing.vehicle-listing-featured.owl-carousel").on("refreshed.owl.carousel",function(event){$(".vehicle-listing.vehicle-listing-featured.owl-carousel").addClass("owl-loaded")})):($(".vehicle-listing.vehicle-listing-featured").html(response.featured_cars),$(".featured-vehicles-listing-wrapper").slideDown("fast")):$(".featured-vehicles-listing-wrapper").hide(),$(".cars-pagination-nav").html(response.pagination_html),$(".cars-order").html(response.order_html),jQuery(".select-sort-filters:not(.disabled)").prop("disabled",!1),jQuery("#submit_all_filters").prop("disabled",!1),$(document.body).trigger("cardealer_set_layout_height_event"),0<jQuery(".masonry-main .all-cars-list-arch.masonry").length&&setTimeout(function(){$(document.body).trigger("cardealer_load_masonry_event")},1e3),jQuery("select").select2(),$(document.body).trigger("cd_data_tooltip_event");response=window.location.href.split("?")[0].split("/page/");window.history.pushState(null,null,response[0]+"?paged="+page_link+form_data),jQuery(".cars-top-filters-box").length&&jQuery("html, body").animate({scrollTop:jQuery(".cars-top-filters-box").offset().top},200)},error:function(msg){alert(vehicle_filter_js_object.error_msg),jQuery(".filter-loader").html(""),jQuery(".pagination-loader").html("")}}),!1}),$(document).on("click",".reset_filters",function(event){event.preventDefault();$(this).closest(".listing_sort"),$(this).attr("id");event=vehicle_filter_js_object.default_sort_by;$(".select-sort-filters:not(.disabled)").each(function(){$(this).val("")}),$(".pgs_cars_search").val(""),$("#pgs_cars_pp").val($("#pgs_cars_pp option:first").val()),$("#pgs_cars_orderby").val(event),$(".price_slider_wrapper").each(function(index,el){var price_slider_el=$(this).find(".slider-range"),price_slider_prices_el=$(this).find(".dealer-slider-amount"),price_slider_min_el=$(this).find(".pgs-price-slider-min"),price_slider_max_el=$(this).find(".pgs-price-slider-max"),price_slider_options=$(price_slider_el).slider("option");$(price_slider_el).slider("values",[price_slider_options.min,price_slider_options.max]),$(price_slider_min_el).val(price_slider_options.min),$(price_slider_max_el).val(price_slider_options.max),price_slider_display_values(price_slider_options.min,price_slider_options.max,price_slider_prices_el)}),vehicle_filter_js_object.is_year_range_active&&$(".slider-year-range").each(function(){var year_slider_wrap=$(this).closest(".year-range-slider-wrapper"),year_slider_years_el=$(year_slider_wrap).find(".dealer-slider-year-range"),year_slider_min_el=$(year_slider_wrap).find(".pgs-year-range-min"),year_slider_wrap=$(year_slider_wrap).find(".pgs-year-range-max"),year_slider_options=$(this).slider("option");$(this).slider("values",[year_slider_options.min,year_slider_options.max]),$(year_slider_min_el).val(year_slider_options.min),$(year_slider_wrap).val(year_slider_options.max),year_range_display_values(year_slider_options.min,year_slider_options.max,year_slider_years_el)}),do_ajax_call(get_form_field(this))})):($(document).on("click","#submit_all_filters",function(){get_form_field(this)}),$(".pgs-price-filter-btn, .pgs_cars_search_btn, #pgs_cars_order,.catlog-layout").on("click",function(){var price_slider_min_el,price_slider_wrap,args=[];$(this).hasClass("pgs-price-filter-btn")&&(price_slider_wrap=$(this).closest(".price_slider_wrapper"),price_slider_min_el=$(price_slider_wrap).find(".pgs-price-slider-min"),price_slider_wrap=$(price_slider_wrap).find(".pgs-price-slider-max"),args.price_range_values=[],args.price_range_values.pgs_min_price=$(price_slider_min_el).val(),args.price_range_values.pgs_max_price=$(price_slider_wrap).val(),args.price_range_values.default_min_val=$(price_slider_min_el).attr("data-min"),args.price_range_values.default_max_val=$(price_slider_wrap).attr("data-max")),get_form_field(this,args)}),$(".pgs_cars_search").keypress(function(e){13==e.which&&$(".pgs_cars_search_btn").click()}),$("#pgs_cars_pp, #pgs_cars_orderby").on("change",function(){get_form_field(this,cd_get_slider_filter_var())}),$(document).on("click",".reset_filters",function(event){event.preventDefault();$(this).attr("id");$(".select-sort-filters").each(function(){$(this).val("")}),$(".pgs_cars_search").val("");event=window.location.href.split("?")[0].split("/page/");$("<form>",{id:"getCarsData",html:"",action:event[0]}).appendTo(document.body).submit()})),jQuery("#dealer-slider-year-range").hasClass("dealer-slider-year-range")||jQuery("#dealer-slider-year-range").addClass("dealer-slider-year-range"),$(document.body).on("cdhl_custom_filters_event",function(){jQuery("select.cd-select-box").length&&jQuery("select.cd-select-box").select2(),dealer_price_filter(),dealer_year_range_filter()}),$("ul.stripe-item").on("click","li:not(.disabled)",function(e){e.preventDefault();var data_type=$(this).attr("data-type");data_type&&$(this).fadeOut(400,function(){$("ul.stripe-item").find("[data-type='"+data_type+"']").remove(),$(".sort_"+data_type).val(""),$(".vehicle-location-input").val(""),do_ajax_call(form_data=get_form_field(this,cd_get_slider_filter_var()))})})})}(jQuery);