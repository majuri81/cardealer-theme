!function($){function initMap($el){var $markers=$el.find(".marker"),zm=10,zm=(cardealer_map_obj.zoom&&(zm=parseInt(cardealer_map_obj.zoom)),{zoom:$el.data("zoom")||zm,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP}),map=new google.maps.Map($el[0],zm);return map.markers=[],$markers.each(function(){!function($marker,map){var lat=$marker.data("lat"),lng=$marker.data("lng"),zoom=$marker.data("zoom"),lat={lat:parseFloat(lat),lng:parseFloat(lng)},marker=new google.maps.Marker({position:lat,map:map,zoom:zoom});{var infowindow;map.markers.push(marker),$marker.html()&&(infowindow=new google.maps.InfoWindow({content:$marker.html()}),google.maps.event.addListener(marker,"click",function(){infowindow.open(map,marker)}))}}($(this),map)}),centerMap(map),map}function centerMap(map){var bounds=new google.maps.LatLngBounds,zm=($.each(map.markers,function(i,marker){marker=new google.maps.LatLng(marker.position.lat(),marker.position.lng());bounds.extend(marker)}),10);cardealer_map_obj.zoom&&(zm=parseInt(cardealer_map_obj.zoom)),1==map.markers.length?(zm=map.markers[0].zoom||zm,map.setCenter(bounds.getCenter()),map.setZoom(zm)):map.fitBounds(bounds)}var map=null;$(document).ready(function(){$(".acf-map").each(function(){map=initMap($(this))}),$(".cd-tab-map").on("click",function(){google.maps.event.trigger(map,"resize"),centerMap(map)})})}(jQuery);